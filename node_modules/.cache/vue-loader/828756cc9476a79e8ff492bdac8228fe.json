{"remainingRequest":"/Users/user/Desktop/okidokicasedev/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/user/Desktop/okidokicasedev/src/views/Cases.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/user/Desktop/okidokicasedev/src/views/Cases.vue","mtime":1624184953232},{"path":"/Users/user/Desktop/okidokicasedev/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/okidokicasedev/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/Desktop/okidokicasedev/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/okidokicasedev/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlL2FwcCI7CmltcG9ydCAiZmlyZWJhc2Uvc3RvcmFnZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiczogbnVsbCwKICAgICAgYWRkRm9ybTogZmFsc2UsCiAgICAgIHNwYXNpYm9aYU90eml2OiAiIiwKICAgICAgbmF6dmFuaWU6ICIiLAogICAgICBvcGlzYW5pZTogIiIsCiAgICAgIGNhc2VzOiBbXSwKICAgIH07CiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgdGhpcy50YWJzID0gTS5UYWJzLmluaXQodGhpcy4kcmVmcy50YWJzKTsKICAgIHRoaXMuY2FzZXMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZmV0Y2hDYXNlcyIpOwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbInVwZGF0ZUluZm8iXSksCiAgICBhZGRPdHppdigpIHsKICAgICAgdGhpcy5hZGRGb3JtID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBPdHByYXZpdE90eml2KCkgewogICAgICB0aGlzLnNwYXNpYm9aYU90eml2ID0gItCS0LDRiCDQvtGC0LfRi9CyINGD0YHQv9C10YjQvdC+INC00L7QsdCw0LLQu9C10L0hIjsKCiAgICAgIGNvbnN0IHVpZCA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRVaWQiKTsKICAgICAgY29uc3QgaWRDYXNlID0gbmV3IERhdGUoKTsKICAgICAgY29uc3QgbWV0YURhdGEgPSB7CiAgICAgICAgY29udGVudFR5cGU6ICJpbWFnZS9wbmciLAogICAgICB9OwogICAgICBjb25zdCBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigpOwogICAgICBjb25zdCBpbWFnZVJlZiA9IHN0b3JhZ2VSZWYuY2hpbGQoCiAgICAgICAgYGltYWdlcy8ke3VpZH0vY2FzZXMvJHt0aGlzLmltYWdlRGF0YS5uYW1lfWAKICAgICAgKTsKICAgICAgYXdhaXQgaW1hZ2VSZWYucHV0KHRoaXMuaW1hZ2VEYXRhLCBtZXRhRGF0YSk7CiAgICAgIGNvbnN0IGRvd25sb2FkVXJsID0gYXdhaXQgaW1hZ2VSZWYuZ2V0RG93bmxvYWRVUkwoKTsKICAgICAgLy8gYWRkIGNhc2UKICAgICAgYXdhaXQgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoYC9jYXNlcy8ke2lkQ2FzZX1gKS5zZXQoewogICAgICAgIGltYWdlVXJsOiBkb3dubG9hZFVybCwKICAgICAgICBuYXp2YW5pZTogdGhpcy5uYXp2YW5pZSwKICAgICAgICBvcGlzYW5pZTogdGhpcy5vcGlzYW5pZSwKICAgICAgICBhdXRob3I6IHVpZCwKICAgICAgfSk7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgICBwcmV2aWV3SW1hZ2UoZXZlbnQpIHsKICAgICAgdGhpcy5pbWFnZURhdGEgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJpbmZvIl0pLAogIH0sCn07Cg=="},{"version":3,"sources":["/Users/user/Desktop/okidokicasedev/src/views/Cases.vue"],"names":[],"mappings":"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","file":"/Users/user/Desktop/okidokicasedev/src/views/Cases.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"row center\">\n    <div class=\"col m6 offset-m3 s12\">\n      <table>\n        <tr>\n          <td>\n            <h5>Отзывы</h5>\n          </td>\n          <td>\n            <button @click=\"addOtziv\" class=\"btn right orange accent-4\">\n              Добавить свой\n            </button>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n  <div class=\"row\" v-if=\"addForm\">\n    <div class=\"col s12 m6 offset-m3 center\">\n      <table class=\"striped\">\n        <tr>\n          <td>Название:</td>\n          <td>\n            <input type=\"text\" v-model=\"nazvanie\" />\n          </td>\n        </tr>\n        <tr>\n          <td>Описание:</td>\n          <td>\n            <textarea\n              class=\"materialize-textarea\"\n              v-model=\"opisanie\"\n            ></textarea>\n          </td>\n        </tr>\n      </table>\n      <div class=\"row\">\n        <div class=\"file-field input-field\">\n          <div class=\"btn orange accent-4\">\n            <span>Фото подарка</span>\n            <input\n              id=\"file\"\n              type=\"file\"\n              @change=\"previewImage\"\n              accept=\"image/*\"\n            />\n          </div>\n          <div class=\"file-path-wrapper\">\n            <input class=\"file-path validate\" type=\"text\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"\">\n        <button @click=\"OtpravitOtziv\" class=\"btn orange accent-4\">\n          Добавить\n        </button>\n      </div>\n      <div class=\"section\" v-text=\"spasiboZaOtziv\"></div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col center m6 offset-m3\">\n      <div v-for=\"num of cases\" :key=\"num\" class=\"card\">\n        <div class=\"card-image\">\n          <img :src=\"num.imageUrl\" />\n          <span class=\"card-title orange accent-4\">{{ num.nazvanie }}</span>\n        </div>\n        <div class=\"card-content\">\n          <p>\n            {{ num.opisanie }}\n          </p>\n        </div>\n        <!-- <div class=\"card-action\">\n          <a href=\"#\">Читать подробнее</a>\n        </div> -->\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\nexport default {\n  data() {\n    return {\n      tabs: null,\n      addForm: false,\n      spasiboZaOtziv: \"\",\n      nazvanie: \"\",\n      opisanie: \"\",\n      cases: [],\n    };\n  },\n  async mounted() {\n    this.tabs = M.Tabs.init(this.$refs.tabs);\n    this.cases = await this.$store.dispatch(\"fetchCases\");\n  },\n  methods: {\n    ...mapActions([\"updateInfo\"]),\n    addOtziv() {\n      this.addForm = true;\n    },\n    async OtpravitOtziv() {\n      this.spasiboZaOtziv = \"Ваш отзыв успешно добавлен!\";\n\n      const uid = await this.$store.dispatch(\"getUid\");\n      const idCase = new Date();\n      const metaData = {\n        contentType: \"image/png\",\n      };\n      const storageRef = firebase.storage().ref();\n      const imageRef = storageRef.child(\n        `images/${uid}/cases/${this.imageData.name}`\n      );\n      await imageRef.put(this.imageData, metaData);\n      const downloadUrl = await imageRef.getDownloadURL();\n      // add case\n      await firebase.database().ref(`/cases/${idCase}`).set({\n        imageUrl: downloadUrl,\n        nazvanie: this.nazvanie,\n        opisanie: this.opisanie,\n        author: uid,\n      });\n      window.location.reload();\n    },\n    previewImage(event) {\n      this.imageData = event.target.files[0];\n    },\n  },\n  computed: {\n    ...mapGetters([\"info\"]),\n  },\n};\n</script>\n"]}]}